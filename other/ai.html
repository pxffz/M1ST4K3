<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Local AI Hub ðŸ’« - Images Supported</title>
<style>
body { font-family:'Segoe UI', sans-serif; background:#0e0e0e; color:#eee; margin:0; }
header { background:#1b1b1b; padding:20px; text-align:center; border-bottom:3px solid #4CAF50; }
header h1 { color:#4CAF50; margin:0; font-size:2rem; }
main { display:flex; flex-direction: column; align-items:center; padding:20px; }
footer { text-align:center; padding:10px; border-top:2px solid #4CAF50; color:#aaa; }

#chatBox { width:90%; max-width:700px; height:450px; background:#222; border:1px solid #444; padding:15px; overflow-y:auto; border-radius:10px; box-shadow:0 0 10px #000; }
#chatBox p { margin:8px 0; padding:10px; border-radius:10px; max-width:80%; word-wrap:break-word; opacity:0; transform:translateY(20px); transition: all 0.3s ease; }
.user { background:#0a0a0a; color:#0f0; margin-left:auto; text-align:right; }
.ai { background:#1a1a1a; color:#4CAF50; margin-right:auto; text-align:left; }

#inputSection { display:flex; width:90%; max-width:700px; margin-top:10px; }
#prompt { flex:1; padding:12px; border:none; outline:none; border-radius:5px 0 0 5px; background:#333; color:#eee; font-size:1rem; }
#sendBtn { padding:12px; background:#4CAF50; border:none; border-radius:0 5px 5px 0; color:#fff; cursor:pointer; font-weight:bold; }

#imageSection { margin-top:10px; width:90%; max-width:700px; display:flex; gap:10px; align-items:center; }
#imageInput { flex:1; }
#imageBtn { padding:10px; background:#4CAF50; border:none; color:#fff; cursor:pointer; }

#tools { margin-top:20px; width:90%; max-width:700px; display:flex; flex-wrap:wrap; gap:10px; justify-content:center; }
#tools button { padding:10px 15px; background:#333; border:1px solid #4CAF50; color:#4CAF50; border-radius:5px; cursor:pointer; transition: all 0.2s; }
#tools button:hover { background:#4CAF50; color:#111; }
</style>
</head>
<body>

<header>
  <h1>Local AI Hub ðŸ’«</h1>
</header>

<main>
  <div id="chatBox"></div>

  <div id="inputSection">
    <input type="text" id="prompt" placeholder="Ask me anything...">
    <button id="sendBtn">Send</button>
  </div>

  <div id="imageSection">
    <input type="file" id="imageInput" accept="image/*">
    <button id="imageBtn">Send Image</button>
  </div>

  <div id="tools">
    <button onclick="toolAction('Homework Helper')">Homework Helper</button>
    <button onclick="toolAction('Idea Generator')">Idea Generator</button>
    <button onclick="toolAction('Random Fun Fact')">Random Fun Fact</button>
    <button onclick="toolAction('Jokes')">Jokes</button>
  </div>
</main>

<footer>
  made by me
</footer>

<script> // <-- Please Dont Steal This Since Im A Hard Working Man.
const OPENAI_KEY = "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"; // <-- To Anyone Seeing This, Please Dont Steal The API Key! I Worked Very Hard To Make This Website Work.
const chatBox = document.getElementById('chatBox');
const promptInput = document.getElementById('prompt');
const sendBtn = document.getElementById('sendBtn');
const imageInput = document.getElementById('imageInput');
const imageBtn = document.getElementById('imageBtn');

function addMessage(text, sender="ai") {
  const p = document.createElement('p');
  p.className = sender;
  p.textContent = text;
  chatBox.appendChild(p);
  chatBox.scrollTop = chatBox.scrollHeight;
  setTimeout(()=>{ p.style.opacity = "1"; p.style.transform = "translateY(0)"; }, 10);
}

// Text prompt AI
async function respondAI(userText) {
  try {
    const resp = await fetch("https://api.openai.com/v1/chat/completions", {
      method: "POST",
      headers: { "Content-Type":"application/json", "Authorization": `Bearer ${OPENAI_KEY}` },
      body: JSON.stringify({
        model: "gpt-4o-mini",
        messages: [{role: "user", content: userText}],
        max_tokens: 600
      })
    });
    const data = await resp.json();
    return data.choices[0].message.content;
  } catch(err) {
    console.error(err);
    return "Error contacting OpenAI.";
  }
}

// Image AI
async function respondImage(file) {
  try {
    const reader = new FileReader();
    return new Promise((resolve, reject)=>{
      reader.onload = async () => {
        const base64 = reader.result.split(',')[1];
        const resp = await fetch("https://api.openai.com/v1/images/edits", {
          method:"POST",
          headers: { "Authorization": `Bearer ${OPENAI_KEY}` },
          body: JSON.stringify({
            model: "gpt-4o-mini",
            image: base64,
            prompt: "Describe the content of this image."
          })
        });
        const data = await resp.json();
        resolve(data.data[0].text || "No response");
      };
      reader.onerror = () => reject("Failed to read image.");
      reader.readAsDataURL(file);
    });
  } catch(err) {
    console.error(err);
    return "Error processing image.";
  }
}

// Send text
sendBtn.onclick = async () => {
  const text = promptInput.value.trim();
  if(!text) return;
  addMessage(text,"user");
  promptInput.value="";
  const aiText = await respondAI(text);
  addMessage(aiText,"ai");
};

// Send image
imageBtn.onclick = async () => {
  const file = imageInput.files[0];
  if(!file) return alert("Select an image first!");
  addMessage("[Image sent]","user");
  const aiText = await respondImage(file);
  addMessage(aiText,"ai");
};

promptInput.addEventListener("keydown", e => { if(e.key==="Enter") sendBtn.click(); });

function toolAction(toolName) {
  let aiText = "";
  switch(toolName){
    case "Homework Helper": aiText="Homework tip: Break your task into smaller steps!"; break;
    case "Idea Generator": const ideas=["Create a mini game","Start a blog","Design a mobile app","Write a short story"]; aiText=ideas[Math.floor(Math.random()*ideas.length)]; break;
    case "Random Fun Fact": const facts=["Octopuses have three hearts.","Bananas are berries.","Honey never spoils.","More stars than grains of sand on Earth."]; aiText=facts[Math.floor(Math.random()*facts.length)]; break;
    case "Jokes": const jokes=["Why did the math book look sad? It had too many problems.","Why do programmers prefer dark mode? Because light attracts bugs!","I told my computer I needed a break, it said 'No problem â€” Iâ€™ll go to sleep.'"]; aiText=jokes[Math.floor(Math.random()*jokes.length)]; break;
  }
  addMessage(`${toolName}: ${aiText}`,"ai");
}
</script>

</body>
</html>
